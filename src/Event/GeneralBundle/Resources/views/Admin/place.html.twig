{% extends '::base.html.twig' %}
{% block body %}

{% include 'EventGeneralBundle:Admin:admin_menu.html.twig' %}

<table class='top_menu'>
    <tr>
        <td><a href="{{ path('places') }}">All</a></td>
        <td><a href="{{ path('places') }}?status=1">Approved</a></td>
        <td><a href="{{ path('places') }}?status=0">Hidden</a></td>
    </tr>
</table>

<h1>{{ place.name }}</h1>

<div style='width: 700px; margin-right: 20px; float: left;'>
    <form action="{{ path('place', { 'id': id }) }}" method="post" {{ form_enctype(form) }} novalidate>
    <table class='settings'>
        <thead>
            <td colspan="2">
                Settings
            </td>
        </thead>
        <tbody>
            <tr>
                <td><b>Name</b></td>
                <td>{{ form_widget(form.name) }}</td>
            </tr>
            <tr>
                <td><b>Status</b></td>
                <td
                    {% if place.status == 1 %}
                       class='notice-green' 
                    {% else %}
                       class='notice-pink' 
                    {% endif %}
                >
                    {{ place.getStatusName() }}
                    {% if place.status == 1 %}
                        [ <a href="{{ path('change_place_status', { 'id': id, 'status': 0 }) }}">hide</a> ]
                    {% else %}
                        [ <a href="{{ path('change_place_status', { 'id': id, 'status': 1 }) }}">activate</a> ]
                    {% endif %}
                </td>
            </tr>
            <tr>
                <td colspan="2"><b>Keywords</b></td>
            </tr>
            <tr>
                <td colspan="2">{{ form_widget(form.keywords) }}</td>
            </tr>
            <tr>
                <td><b>Address</b></td>
                <td>{{ form_widget(form.address ) }}</td>
            </tr>
            <tr>
                <td><b>Description</b></td>
                <td>{{ form_widget(form.description) }}</td>
            </tr>
            <tr>
                <td colspan="2" style="text-align: center">
                    {{ form_rest(form) }}
                    <input type="submit" value="Save" />
                </td>
            </tr>
        </tbody>
    </table>
    </form>
</div>

<div style='width: 450px; float: left;'>
    <table class='settings'>
        <thead>
            <tr>
                <td colspan="4">Internal Events Tooltip</td>
            </tr>
            <tr>
                <td style='width: 3%'>id</td>
                <td style='width: 40%'>name</td>
                <td style='width: 20%'>place</td>
                <td style='width: 20%'>time</td>
            </tr>
        </thead>
        <tbody style='font-size: 12px;'>
            {% for ie in internal_events %}
                <tr>
                    <td>{{ ie.id }}</td>
                    <td><a href="{{ path('internal_event', { 'id': ie.id }) }}">{{ ie.name }}</a></td>
                    <td>{{ place.name }}</td>
                    <td>{{ ie.getHumanStart() }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
